# Инструкция по системе учета сотрудников детского лагеря

## Описание системы

Мобильное веб-приложение для учета сотрудников в детском лагере. Система позволяет администратору создавать смены, приглашать сотрудников и управлять их данными.

## Технические требования

- PHP 8.0+
- Composer
- MySQL/SQLite
- Node.js & NPM

## Установка и запуск

1. Перейдите в директорию проекта:
```bash
cd camp-staff-manager
```

2. Установите зависимости PHP:
```bash
composer install
```

3. Скопируйте файл окружения:
```bash
cp .env.example .env
```

4. Сгенерируйте ключ приложения:
```bash
php artisan key:generate
```

5. Создайте базу данных и настройте подключение в файле `.env`

6. Запустите миграции:
```bash
php artisan migrate
```

7. Создайте администратора:
```bash
php artisan db:seed --class=AdminSeeder
```

8. Создайте символическую ссылку для хранилища:
```bash
php artisan storage:link
```

9. Запустите сервер разработки:
```bash
php artisan serve
```

## Доступы

### Администратор
- URL: http://localhost:8000/login
- Email: admin@camp.com
- Пароль: password

## Функциональность

### Для администратора

1. **Управление сменами**
   - Создание новых смен
   - Редактирование существующих смен
   - Просмотр списка смен и количества сотрудников
   - Удаление смен (только если нет сотрудников)

2. **Управление сотрудниками**
   - Создание нового сотрудника (генерация ссылки для регистрации)
   - Просмотр списка всех сотрудников
   - Фильтрация по смене, должности, статусу регистрации
   - Поиск по имени, email, телефону
   - Редактирование данных сотрудника
   - Просмотр детальной информации о сотруднике
   - Генерация новой ссылки для регистрации
   - Добавление рейтинга и комментариев

### Для сотрудников

1. **Регистрация**
   - Переход по уникальной ссылке от администратора
   - Заполнение всех необходимых данных:
     - Выбор смены
     - Загрузка фото профиля
     - Создание пароля
     - Личные данные (ФИО, телефон, email, telegram)
     - Выбор должности
     - Паспортные данные
     - ИНН и СНИЛС
     - Банковские реквизиты
   - Отметка о самозанятости

2. **Личный кабинет**
   - Вход по email и паролю
   - Просмотр всех своих данных
   - Просмотр рейтинга (если установлен администратором)

## Процесс работы

1. **Администратор создает смену**
   - Заходит в раздел "Управление сменами"
   - Нажимает "Создать новую смену"
   - Указывает название, дату начала и окончания

2. **Администратор приглашает сотрудника**
   - Заходит в раздел "Управление сотрудниками"
   - Нажимает "Создать нового сотрудника"
   - Вводит email сотрудника (обязательно)
   - Опционально: выбирает смену, указывает имя и фамилию
   - Получает уникальную ссылку для регистрации
   - Отправляет ссылку сотруднику

3. **Сотрудник регистрируется**
   - Переходит по полученной ссылке
   - Заполняет все необходимые данные
   - Нажимает "Зарегистрироваться"

4. **Сотрудник использует личный кабинет**
   - Заходит на страницу входа для сотрудников
   - Вводит email и пароль
   - Просматривает свои данные

## Мобильная оптимизация

Приложение полностью адаптировано для использования на смартфонах:
- Адаптивный дизайн
- Крупные кнопки для удобного нажатия
- Оптимизированные формы ввода
- Предотвращение масштабирования при фокусе на полях ввода
- Поддержка безопасных зон (notch) на iOS устройствах

## Безопасность

- Пароли хранятся в зашифрованном виде
- Уникальные токены для регистрации
- Разделение прав доступа (администратор/сотрудник)
- Защита от CSRF атак
- Валидация всех входных данных 